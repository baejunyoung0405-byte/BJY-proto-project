<Window x:Class="TodoWpfApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="TodoWpfApp" Height="640" Width="980" MinHeight="560" MinWidth="860">
    <Grid Margin="16">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="3*" />
            <ColumnDefinition Width="2*" />
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0" BorderBrush="#D9D9D9" BorderThickness="1" CornerRadius="8" Padding="12" Margin="0,0,12,0">
            <DockPanel>
                <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,8">
                    <TextBlock Text="Tasks" FontSize="22" FontWeight="SemiBold" VerticalAlignment="Center" />
                    <Button Content="Refresh" Width="80" Margin="12,0,0,0" Command="{Binding ReloadCommand}" />
                </StackPanel>

                <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,10">
                    <Button Content="All" Width="72" Margin="0,0,6,0" Command="{Binding SetFilterCommand}" CommandParameter="All">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="#F3F4F6" />
                                <Setter Property="BorderBrush" Value="#D1D5DB" />
                                <Setter Property="FontWeight" Value="Normal" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsAllFilter}" Value="True">
                                        <Setter Property="Background" Value="#DBEAFE" />
                                        <Setter Property="BorderBrush" Value="#60A5FA" />
                                        <Setter Property="FontWeight" Value="SemiBold" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                    <Button Content="Today" Width="72" Margin="0,0,6,0" Command="{Binding SetFilterCommand}" CommandParameter="Today">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="#F3F4F6" />
                                <Setter Property="BorderBrush" Value="#D1D5DB" />
                                <Setter Property="FontWeight" Value="Normal" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsTodayFilter}" Value="True">
                                        <Setter Property="Background" Value="#DBEAFE" />
                                        <Setter Property="BorderBrush" Value="#60A5FA" />
                                        <Setter Property="FontWeight" Value="SemiBold" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                    <Button Content="This Week" Width="92" Margin="0,0,6,0" Command="{Binding SetFilterCommand}" CommandParameter="ThisWeek">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="#F3F4F6" />
                                <Setter Property="BorderBrush" Value="#D1D5DB" />
                                <Setter Property="FontWeight" Value="Normal" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsThisWeekFilter}" Value="True">
                                        <Setter Property="Background" Value="#DBEAFE" />
                                        <Setter Property="BorderBrush" Value="#60A5FA" />
                                        <Setter Property="FontWeight" Value="SemiBold" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                    <Button Content="Completed" Width="92" Command="{Binding SetFilterCommand}" CommandParameter="Completed">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="#F3F4F6" />
                                <Setter Property="BorderBrush" Value="#D1D5DB" />
                                <Setter Property="FontWeight" Value="Normal" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsCompletedFilter}" Value="True">
                                        <Setter Property="Background" Value="#DBEAFE" />
                                        <Setter Property="BorderBrush" Value="#60A5FA" />
                                        <Setter Property="FontWeight" Value="SemiBold" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </StackPanel>

                <ListView ItemsSource="{Binding FilteredItems}" SelectedItem="{Binding SelectedItem, Mode=TwoWay}" BorderThickness="0">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="Done" Width="56">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <CheckBox IsChecked="{Binding IsCompleted}" IsHitTestVisible="False" HorizontalAlignment="Center" />
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                            <GridViewColumn Header="Title" DisplayMemberBinding="{Binding Title}" Width="220" />
                            <GridViewColumn Header="Due" Width="140">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding DueDate, StringFormat=yyyy-MM-dd}" />
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                            <GridViewColumn Header="Priority" DisplayMemberBinding="{Binding Priority}" Width="80" />
                            <GridViewColumn Header="Notes" DisplayMemberBinding="{Binding Notes}" Width="260" />
                        </GridView>
                    </ListView.View>
                </ListView>
            </DockPanel>
        </Border>

        <Border Grid.Column="1" BorderBrush="#D9D9D9" BorderThickness="1" CornerRadius="8" Padding="12">
            <StackPanel>
                <TextBlock Text="Editor" FontSize="22" FontWeight="SemiBold" Margin="0,0,0,12" />

                <TextBlock Text="Title" />
                <TextBox Text="{Binding TitleInput, UpdateSourceTrigger=PropertyChanged}" Margin="0,4,0,10" Height="30" />

                <TextBlock Text="Due Date" />
                <DatePicker SelectedDate="{Binding DueDateInput, Mode=TwoWay}" Margin="0,4,0,10" />

                <TextBlock Text="Priority (1-3)" />
                <StackPanel Orientation="Horizontal" Margin="0,4,0,10" VerticalAlignment="Center">
                    <Slider Width="180"
                            Minimum="1"
                            Maximum="3"
                            TickFrequency="1"
                            IsSnapToTickEnabled="True"
                            Value="{Binding PriorityInput, Mode=TwoWay}" />
                    <TextBlock Text="{Binding PriorityInput}" Margin="10,0,0,0" VerticalAlignment="Center" />
                </StackPanel>

                <TextBlock Text="Notes" />
                <TextBox Text="{Binding NotesInput, UpdateSourceTrigger=PropertyChanged}" Margin="0,4,0,14" Height="140" TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" />

                <UniformGrid Rows="2" Columns="2" Margin="0,4,0,0">
                    <Button Content="Add" Margin="4" Height="34" Command="{Binding AddCommand}" />
                    <Button Content="Update" Margin="4" Height="34" Command="{Binding UpdateCommand}" />
                    <Button Content="Toggle Complete" Margin="4" Height="34" Command="{Binding ToggleCompleteCommand}" />
                    <Button Content="Delete" Margin="4" Height="34" Command="{Binding DeleteCommand}" />
                </UniformGrid>

                <Button Content="Clear" Margin="4,12,4,0" Height="32" Command="{Binding ClearInputCommand}" />
            </StackPanel>
        </Border>
    </Grid>
</Window>
